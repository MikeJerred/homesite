@import "../../../styles/variables.less";

article.default-layout header.header {
    position: relative;
    z-index: 2000;

    .navbar {
        position: fixed;
        background-color: transparent;
        margin: 0;
        border: 0;
        width: 100%;
        transition: all 0.2s ease-in-out;
        transform: translateY(0);

        &.hide-menu { transform: translateY(-100px); }

        .top-bar {
            background-color: @theme-light-blue;
            height: @header-height;
            line-height: @header-height;
            font-size: 28px;
            padding-left: 40px;

            > .name {
                transition: all 0.2s ease-in-out;
                opacity: 1;

                &.ng-hide {
                    opacity: 0;
                }
            }
        }

        .nav-header {
            position: absolute;
            right: 0;
            top: 0;
            z-index: 100;

            > .nav-toggle {
                margin: 20px 40px;
                padding: 10px;
                border: 2px solid #fff;
                border-radius: 50%;
                outline: none;
                background-color: @theme-light-blue;
                color: #fff;
                font-size: 0;
                pointer-events: auto;
                transition: all ease-in-out 0.3s;

                @media (max-width: @screen-sm-min) {
                    margin: 20px;
                }

                &:hover {
                    background-color: darken(@theme-light-blue, 2%);
                }

                svg {
                    .line1, .line2, .line3 {
                        transition: all ease-in-out 0.2s;
                        transform: rotate(0) scaleX(1);
                        fill: #fff;
                    }

                    .line1 { transform-origin: 120px 120px; }
                    .line2 { transform-origin: 600px 6000px; }
                    .line3 { transform-origin: 120px 1080px; }
                }

                &.cross {
                    background-color: transparent;
                    border-color: transparent;

                    svg {
                        .line1 { transform: rotate(45deg) scaleX(sqrt(2)); }
                        .line2 { transform: scaleX(0.01); }
                        .line3 { transform: rotate(-45deg) scaleX(sqrt(2)); }
                    }
                }
            }
        }

        .nav-collapse {
            @radius: 200px;
            @expand-time: 0.3s;
            @fan-time: 0.3s;
            position: absolute;
            right: 0;
            top: -20px;
            width: @radius * 2;
            height: @radius * 2;
            border-radius: 50%;
            background-color: @theme-blue;
            transition: all @expand-time ease-in-out;
            transform: translate(50%, -50%) scale(1);
            pointer-events: auto;

            @media (max-width: @screen-sm-min) {
                top: 0;
            }

            &.collapsed {
                transition-delay: @fan-time * 1/3;
                transform: translate(50%, -50%) scale(0);
            }

            .nav {
                position: relative;
                top: 50%;
                left: 0;
                font-family: @font-family-serif;
                font-size: 24px;

                @media (min-width: @screen-sm-min) {

                }

                > li {
                    position: absolute;
                    transform-origin: @radius 0;
                    transition: all ease-in-out @fan-time;
                    transition-delay: @expand-time * 1/3;
                    opacity: 1;

                    &.active > a { color: #fff; }

                    > a {
                        border-radius: 50%;
                        color: @theme-black;
                        padding: 20px;
                        cursor: pointer;

                        @media (min-width: @screen-sm-min) {
                            &:first-child {
                                padding-top: 30px;
                            }
                        }
                    }
                }
            }

            @count: 4;
            @step: 85 / (@count);
            .create-children(@i: 1) when (@i =< @count) {
                @angle: (@i - 1) * @step;

                .nav > li:nth-child(@{i}) {
                    transform: rotate(~"-@{angle}deg");

                    > a {
                        transform: rotate(~"@{angle}deg");
                    }
                }

                &.collapsed .nav {
                    > li {
                        transition-delay: 0s;
                        opacity: 0;

                        &:nth-child(@{i}) {
                            transform: rotate(0);
                        }
                    }
                }

                .create-children(@i+1);
            }

            .create-children();
        }
    }
}